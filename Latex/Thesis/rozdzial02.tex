\chapter{Koncepcja gry}
W projektowanej grze gracze steruj¹ czo³gami, mog¹ do siebie strzelaæ, a w czasie rozgrywki bêd¹ dostawali ulepszenia, wzmacniaj¹ce ich mo¿liwoœci bojowe, zarówno pasywne i aktywne.
W tym rozdziale szczwegó³owo opisane zostan¹ mechaniki gry oraz wymagania z dziedziny \emph{game designu}.

\section{Projekt mechanik}

Do zaimplementowania zaplanowane zosta³y nastêpuj¹ce mechaniki:

\begin{itemize}
    \item Sterowanie gracza,
    \item Strzelanie,
    \item System zdrowia/¿ycia,
    \item System rund,
    \item Karty ulepszeñ,
    \item Charakterystyki pasywne i aktywne,
    \item \emph{User experience}.
\end{itemize}

Zostan¹ one szczegó³owo opisane w kolejnych sekcjach.
Ponadto poni¿sze mechaniki opisano jako wymagania dodatkowe, nieobowi¹zkowe:

\begin{itemize}
    \item Zdolnoœci specjalne,
    \item Zagro¿enia œrodowiskowe.
\end{itemize}


\subsection{Sterowanie gracza}

W przypadku wiêkszoœci gier, w których gracz steruje pewn¹ postaci¹ (awatarem), istniej¹ za³o¿enia gracza zwi¹zane z tym jak takie sterowanie implementowane jest w innych produkcjach.
W projektowanej grze awatarem gracza jest czo³g, wykorzystany zostanie wiêc schemat sterowania zwany "sterowaniem czo³gowym" (ang. \emph{tank controls}). (cite: https://bloody-disgusting.com/news/3224958/horror-declassified-an-examination-of-tank-controls/)
Poza potencjalnie intuicyjn¹ interpretacj¹ sterowania przez graczy, taki schemat charakteryzuje siê równie¿ przewidywalnym zachowaniem awatara w przypadku zmiany perspektywy kamery.

W tym schemacie sterowania awatar porusza siê w kierunku okreœlonym wzglêdem jego w³asnej orientacji, w przeciwieñstwie do wielu wspó³czesnych tytu³ów, w których postaæ porusza siê w kierunku wzglêdnym do kamery. [przygotowaæ schemat na rysunku]

Gra przygotowywana jest z myœl¹ o sterowaniu klawiatur¹ i mysz¹, schemat sterowania zostanie wiêc zmapowany na odpowiednie przyciski i gesty zwi¹zane z charakterystyk¹ tych urz¹dzeñ. [tabela ze schematem sterowania]

\subsection{Strzelanie}

Podstawow¹ akcj¹ wykonywan¹ przez gracza bêdzie strzelanie do przeciwników.

Gracz bêdzie celowa³ przy pomocy myszy, lufa czo³gu bêdzie obraca³a siê w kierunku rzutu myszy na jej p³aszczyznê w przestrzeni 3D.
Taka metoda sterowania da du¿¹ dok³adnoœæ celowania. Jest równie¿ stosunkowo prosta w implementacji i intuicyjna dla gracza.

Na pociski gracza nie bêdzie dzia³aæ fizyka - bêd¹ porusza³y siê jedynie w p³aszczyŸnie równoleg³ej do ziemi. Pociski bêd¹ wchodziæ w kontakt z innymi graczami oraz z obiektami umieszczonymi w poziomie.

Gracz bêdzie móg³ strzeliæ z wykorzystaniem lewego przycisku myszy. Ka¿de wciœniêcie przycisku odpowiadaæ bêdzie jednemu wystrzelonwmu pociskowi, choæ to zachowanie mo¿e ulec zmianie w czasie rozgrywki [odniesienie do rozdzia³u z kartami?].

Postaæ gracza bêdzie mia³a ograniczon¹ pojemnoœæ "magazynku". Prze³adowanie bêdzie trwa³o okreœlony czas. W przeciwieñstwie do wielu gier z podobn¹ mechanik¹, prze³adowanie nie bêdzie konsumowaæ pocisków z wiêkszej puli - gracz ma mo¿liwoœæ nieograniczonych prze³adowañ. Rol¹ tej mechaniki jest wymuszenie na graczach myœlenia taktycznego oraz zarz¹dzania zasobami.

Aby uniemo¿liwiæ nazbyt szybkie strzelanie gracz bêdzie mia³ ograniczon¹ maksymaln¹ "szybkoœæ ataku". Jest ona okreœlona jako minimalny czas pomiêdzy kolejnymi strza³ami.

Zosta³y okreœlone nastêpuj¹ce charakterystyki pocisku:

\begin{itemize}
    \item Obra¿enia - wartoœæ liczbowa okreœlaj¹ca jak mocno pocisk zrani trafionego,
    \item Szybkoœæ - wartoœæ liczbowa okreœlaj¹ca jak szybko pocisk siê przemieszcza,
    \item Kolor[Materia³?] - Okreœla wygl¹d pocisku,
    \item Rozmiar - okreœla wymiary pocisku (najpewniej zwi¹zany (liniowo?) z obra¿eniami),
    \item W³aœciciel - Gracz, który wyœwietli³ pocisk,
    \item Efekty przy trafieniu - lista wydarzeñ, które aktywowane zostaj¹ gdy pocisk trafia gracza lub przeszkodê.
\end{itemize}

Ze strzelaniem zwi¹zane s¹ równie¿ nastêpuj¹ce charakterystyki gracza:

\begin{itemize}
    \item Pojemnoœæ magazynku,
    \item Czas prze³adowania,
    \item Szybkoœæ ataku,
    \item Celnoœæ - zmniejsza rozrzut pocisków (TODO: opisaæ rozrzut wy¿ej),
    \item Charakterystyki wystrzeliwanych pocisków,
\end{itemize}

\subsection{System zdrowia i ¿ycia}

Aby umo¿liwiæ graczom eliminacjê przeciwników wprowadzony zostanie system zdrowia. 

Ka¿d¹ rundê gracz rozpoczyna z punktami ¿ycia równymi ich maksymalnej wartoœci. W czasie rozgrywki, otrzymuj¹c obra¿enia, ta wartoœæ bêdzie zmniejszana. Gdy wartoœæ ta osi¹gnie 0, gracz zostaje wyeliminowany z aktualnej rundy.

W czasie rozgrywki ¿ywotnoœæ postaci bêdzie siê zamoistnie zwiêkszaæ, je¿eli wystarczaj¹co d³ugo nie otrzyma³ obra¿eñ. Nie mo¿e ona jednak przekroczyæ maksymalnej wartoœci.

Okreœlone zostan¹ nastêpuj¹ce charakterystyki postaci:
\begin{itemize}
    \item Maksymalna ¿ywotnoœæ postaci - Okreœla z jak¹ liczb¹ punktów ¿ycia rundê rozpoczyna gracz oraz jakiej wartoœci nie mog¹ przekroczyæ jego aktualne punkty ¿ycia w wyniku leczenia.
    \item Aktualna ¿ywotnoœæ postaci - Okreœla ile punktów ¿ycia aktualnie posiada gracz; zmniejszenie tej wartoœci do 0 oznacza eliminacjê gracza.
    \item OpóŸnienie leczenia - Okreœla ile czasu po otrzymaniu obra¿eñ postaæ gracza zaczyna siê leczyæ.
    \item Wartoœæ leczenia - Okreœla ile punktów ¿ycia gracz otrzymuje w ka¿dym okresie leczenia.
    \item Okres leczenia - Okreœla jak czêsto gracz bêdzie otrzymywa³ punkty ¿ycia podczas leczenia.
\end{itemize}

\subsection{System rund}

Gra bêdzie podzielona na rundy. Ka¿da z rund trwa do momentu, w którym tylko jeden gracz nie bêdzie wyeliminowany. Ten gracz dostaje jeden punkt zwyciêstwa, a nastêpnie gracze przechodz¹ do kolejnej rundy. Gra trwa do rundy, po której jeden z graczy osi¹gnie docelow¹ liczbê punktów zwyciêstwa.

Taki system rozgrywki prowadzi do ró¿nej liczby rund dla ró¿nej liczby graczy oraz dla ró¿nej docelowej liczby punktów. Minimaln¹ i maksymaln¹ liczbê rund mo¿na wyraziæ nastêpuj¹cymi wzorami:

$$
n - docelowa liczba punktów zwyciêstwa 
p - liczba graczy
r_{min} - minimalna liczba rund 
r_{max} - maksymalna liczba rund \\
r_{min} = n \\
r_{max} = p * (n-1) + 1
$$

Wyliczenia dla mo¿liwych liczb graczy oraz dla przyk³adowych liczb docelowych punktów zosta³y zaprezentowane w tabeli \ref{tab:round_count}.

\begin{table}
    \small
    \centering
    \caption{Rozk³ad liczby rund dla ró¿nej liczby graczy i docelowych punktów zwyciêstwa}
    \label{tab:round_count}
    \begin{tabularx}{\linewidth}{|c||X|X|}
        \hline
        Liczba graczy & Liczba rund dla $n=3$ & Liczba rund dla $n=5$ \\
        \hline \hline
        2 & 3 - 5 & 5 - 9 \\
        \hline 
        3 & 3 - 7 & 5 - 13 \\
        \hline
        4 & 3 - 9 & 5 - 17 \\
        \hline
        5 & 3 - 11 & 5 - 21 \\
        \hline
        6 & 3 - 13 & 5 - 25 \\
        \hline 
    \end{tabularx}
\end{table}

\subsection{Karty ulepszeñ}


\subsection{Charakterystyki pasywne i aktywne}


\subsection{User experience}%predykcje klienckie + buforowanie akcji

